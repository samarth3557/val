<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For You ‚ù§Ô∏è</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(120deg, #fccb90 0%, #d57eeb 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            position: relative; 
            transition: background 0.5s ease; 
        }

        /* --- COLLAGE BACKGROUND --- */
        #collage-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 5; 
            background-size: cover;
            background-position: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1s ease;
        }

        #collage-bg { background-image: url('desktop-bg.jpg'); }

        @media (max-width: 600px) {
            #collage-bg { background-image: url('mobile-bg.jpg'); }
        }

        /* --- FLOATING HEARTS/ROSES --- */
        .floating-element {
            position: fixed;
            color: rgba(255, 255, 255, 0.8);
            bottom: -50px;
            animation: floatUp linear infinite;
            z-index: 0; 
            pointer-events: none; 
            user-select: none;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-110vh) rotate(360deg); opacity: 0; }
        }

        /* --- STATIC POLAROIDS --- */
        .photo-wrapper {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
            pointer-events: none;
            transition: opacity 1s ease; 
        }

        .polaroid {
            position: absolute;
            background: white;
            padding: 10px 10px 25px 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            width: 150px; /* Default desktop size */
            height: auto;
            border-radius: 2px;
            transition: transform 0.3s ease;
        }

        .polaroid img {
            width: 100%;
            display: block;
            border: 1px solid #eee;
        }

        .p2 { top: 15%; right: 10%; transform: rotate(10deg); }
        .p3 { bottom: 10%; left: 15%; transform: rotate(5deg); }

        /* --- FALLING PHOTOS --- */
        .falling-photo {
            position: fixed;
            background: white;
            padding: 10px 10px 25px 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            will-change: transform, top, opacity;
            transform: translateZ(0); 
            backface-visibility: hidden;
            animation: fallDown 8s linear forwards; 
            pointer-events: none; 
            opacity: 0; 
        }

        .falling-photo img {
            width: 100%;
            display: block;
        }

        @keyframes fallDown {
            0% { top: -300px; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 110vh; opacity: 0; }
        }

        /* --- MAIN CARD --- */
        .card {
            /* Changed opacity from 0.95 to 0.85 for transparency */
            background: rgba(255, 255, 255, 0.85);
            /* Added blur filter to make text readable over collage */
            backdrop-filter: blur(8px); 
            -webkit-backdrop-filter: blur(8px); /* Safari support */
            
            padding: 40px; 
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 400px;
            width: 90%;
            z-index: 50; 
            position: relative;
            max-height: 80vh; 
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1 {
            font-family: 'Pacifico', cursive; 
            color: #d63384;
            font-size: 3rem; 
            margin: 0 0 10px 0; 
            line-height: 1.3;
            font-weight: normal;
        }
        
        .caption-text {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 30px;
            font-weight: 700;
        }

        /* --- MOBILE SPECIFIC TWEAKS --- */
        @media (max-width: 600px) {
            /* Smaller heading font */
            h1 { font-size: 2rem; } 
            /* Smaller caption font */
            .caption-text { font-size: 1rem; margin-bottom: 20px; }
            /* Tighter padding in the card to make popup smaller */
            .card { padding: 20px 15px; } 
            /* BIGGER background images on mobile */
            .polaroid { width: 140px; opacity: 0.9; }
            /* Adjust positions slightly for mobile */
            .p2 { top: 10%; right: 5%; }
            .p3 { bottom: 5%; left: 5%; }
        }

        p, button {
            font-family: 'Quicksand', sans-serif;
        }

        .gif-container img {
            width: 100%;
            max-width: 250px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        button {
            font-weight: 700;
            font-size: 1.2rem;
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 60;
            margin: 10px;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        #yesBtn {
            background-color: #ff4d6d;
            color: white;
            box-shadow: 0 5px 15px rgba(255, 77, 109, 0.4);
        }
        
        #yesBtn:hover { transform: scale(1.05); background-color: #ff2a55; }

        #noBtn {
            background-color: transparent;
            color: #ff4d6d;
            border: 2px solid #ff4d6d;
            position: relative; 
        }

        #readMoreBtn {
            background-color: #d63384;
            color: white;
            margin-top: 10px;
            box-shadow: 0 5px 15px rgba(214, 51, 132, 0.4);
            font-size: 1.1rem;
        }

        #success, #message-area {
            display: none;
        }

        #message-area p {
            font-family: 'Quicksand', sans-serif;
            font-size: 1.05rem; /* Slightly increased for readability */
            color: #333; /* Darker text for better contrast against transparent bg */
            font-weight: 600; /* Slightly bolder text */
            line-height: 1.6;
            margin-bottom: 20px;
            white-space: pre-wrap; 
            text-align: left;
            max-height: 400px; 
            overflow-y: auto; 
            padding-right: 10px;
        }
        
        #message-area p::-webkit-scrollbar { width: 5px; }
        #message-area p::-webkit-scrollbar-thumb { background: #ffb3c1; border-radius: 10px; }

    </style>
</head>
<body>

    <audio id="bgMusic" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <div id="collage-bg"></div>
    <div id="hearts-container"></div>

    <div id="static-photos" class="photo-wrapper">
        <div class="polaroid p2"><img src="2.jpg" onerror="this.src='2.jpeg'" alt="2"></div>
        <div class="polaroid p3"><img src="3.jpg" onerror="this.src='3.jpeg'" alt="3"></div>
    </div>

    <div class="card">
        <div id="question">
            <h1>Will you be my Valentine?</h1>
            <p class="caption-text">You are my favorite person ‚ù§Ô∏è</p>
            
            <div class="btn-group">
                <button id="yesBtn" onclick="handleYes()">Yes! ‚ù§Ô∏è</button>
                <button id="noBtn" onmouseover="moveButton()" onclick="moveButton()">No üíî</button>
            </div>
        </div>

        <div id="success">
            <div class="gif-container">
                <img src="https://media1.tenor.com/m/gUiu1zyxfzYAAAAC/bear-kiss-bear-kisses.gif" alt="Kisses">
            </div>
            <h1>Love you Jaasthi Kandha!! ‚ù§Ô∏è</h1>
            <button id="readMoreBtn" onclick="showLetter()">Read My Message üíå</button>
        </div>

        <div id="message-area">
            <h1>For You...</h1>
            <p>This is for you..‚ù§Ô∏è

Gottu, naavu ibru perfect alla. We still have so many things to learn about each other.

But ondh vishya enandre: I'm all in.
Yeste kashta barli or life eshte hard aagli... naanu ninna bittu ellu hogalla. Even when we disagree, I won't give up on us.ü•∫

Yavagadru ninge full tired aagi, kelsa madoke mood ilde iddaga .. don't worry. Aduge naane madtini, paathre naane tolitini, mane full naane clean madtini.

Yavagadru bad day idhu, ninge bejar aagidre... just come and rest your head on my lap. Nin thale savri, ninge samadhana aago vargu pakadalle irthini.ü´£

Matthe periods time alli... nin mood swings, nin kopa... ellanu I'll try to handle maximum with patience. Ninna favorite food order maadi, ottige koothkondu we will watch your favorite movie.ü•∞

Bore adhaga, change beku ansidre... ninge ista aago kade karkond hogtini. Whatever makes you smile.üôÉ

Yen aadru sari, nanu yavaglu ninna pakdhalle, jothege irthini. No matter what happens. ‚ù§Ô∏èü´Ç

I would really really love you and take care of you, the way you like. I am all ready for that.ü´¥

I choose you. Again and again. Yavaglu neene. ‚ú®
Nagu irli, alu irli, late-night talks irli, jagla irli... I am here for everything.

Innu bere enadru miss maadidre please helu Kandha... I will do that too.

Love you jaasthi Kandha, Take care!!! üòö</p>
            <button id="yesBtn" onclick="closeLetter()">Back ‚ù§Ô∏è</button>
        </div>
    </div>

    <script>
        const noBtn = document.getElementById("noBtn");
        const yesBtn = document.getElementById("yesBtn");
        const heartsContainer = document.getElementById("hearts-container");
        const audio = document.getElementById("bgMusic");
        const staticPhotos = document.getElementById("static-photos");
        const collageBg = document.getElementById("collage-bg");

        /* Photo List: 1.jpg to 23.jpg */
        const myPhotos = [];
        for (let i = 1; i <= 23; i++) {
            myPhotos.push(i + ".jpg");
        }
        
        const phrases = ["No üíî", "Please?", "I'll be sad...", "Don't do this!", "Last chance!"];
        let phraseIndex = 0;
        let rainInterval; 

        function createFloatingElement() {
            const el = document.createElement("div");
            el.classList.add("floating-element");
            el.innerHTML = Math.random() < 0.5 ? "‚ù§Ô∏è" : "üåπ";
            el.style.left = Math.random() * 100 + "vw";
            el.style.animationDuration = Math.random() * 3 + 4 + "s"; 
            const size = Math.random() * 20 + 20; 
            el.style.fontSize = size + "px"; 
            heartsContainer.appendChild(el);
            setTimeout(() => { el.remove(); }, 7000);
        }
        setInterval(createFloatingElement, 300);

        function dropPhoto() {
            const photoDiv = document.createElement("div");
            photoDiv.classList.add("falling-photo");
            
            const randomImgName = myPhotos[Math.floor(Math.random() * myPhotos.length)];
            const img = document.createElement("img");
            img.src = randomImgName;
            img.alt = "Memory";
            img.onerror = function() { this.src = this.src.replace(".jpg", ".jpeg"); };
            photoDiv.appendChild(img);

            if (window.innerWidth < 600) {
                // MOBILE MODE
                photoDiv.style.left = Math.random() * 85 + "vw";
                photoDiv.style.zIndex = "60";
                photoDiv.style.opacity = "0.8"; 
                const randomWidth = Math.floor(Math.random() * 50) + 60; 
                photoDiv.style.width = randomWidth + "px";
            } else {
                // DESKTOP MODE
                let randomLeft;
                if (Math.random() < 0.5) {
                    randomLeft = Math.random() * 20; 
                } else {
                    randomLeft = Math.random() * 20 + 80; 
                }
                photoDiv.style.left = randomLeft + "vw";
                photoDiv.style.zIndex = "20";
                photoDiv.style.opacity = "1";
                const randomWidth = Math.floor(Math.random() * 120) + 100;
                photoDiv.style.width = randomWidth + "px";
            }
            
            const randomTilt = Math.random() * 30 - 15; 
            photoDiv.style.transform = `rotate(${randomTilt}deg)`;

            document.body.appendChild(photoDiv);
            setTimeout(() => { photoDiv.remove(); }, 8000); 
        }

        function moveButton() {
            noBtn.style.position = "absolute"; 
            noBtn.style.left = `${Math.random() * 80}%`;
            noBtn.style.top = `${Math.random() * 80}%`;
            phraseIndex = (phraseIndex + 1) % phrases.length;
            noBtn.innerText = phrases[phraseIndex];
        }

        function handleYes() {
            document.getElementById("question").style.display = "none";
            document.getElementById("success").style.display = "block";
            staticPhotos.style.opacity = "0"; 
            audio.play().catch(e => console.log("Audio interaction needed"));
            
            rainInterval = setInterval(dropPhoto, 600); 
        }

        function showLetter() {
            document.getElementById("success").style.display = "none";
            document.getElementById("message-area").style.display = "block";
            
            clearInterval(rainInterval);
            
            const existingPhotos = document.querySelectorAll('.falling-photo');
            existingPhotos.forEach(photo => photo.remove());

            collageBg.style.opacity = "1";
        }

        function closeLetter() {
            document.getElementById("message-area").style.display = "none";
            document.getElementById("success").style.display = "block";

            collageBg.style.opacity = "0";

            rainInterval = setInterval(dropPhoto, 600);
        }
    </script>
</body>
</html>
